
pipeline{
agent any
    tools{
        jdk 'java-11'
        maven 'maven'
        stages{
            stage{'Git-checkout'}
            stepd{
                git branch 'master',url:'https://github.com/reddysharan/devepos-demo.git'
                stage{'code compiler'
                steps{
                    sh.'mvn compile'
                
                stage{'code package'}
                steps{sh "mvn clean install"
stage{'build and tag'
steps{
    sh 'docker build -t sharan2905/project-1'
    stage{'containerisation'}
    steps{sh'''
    docker run -it -d --name c8 -p 9008:8080 sharan2905/project-1
    '''}
    stage{'login to docker hub'}{
        stage{
            scriept{
        DOCKER_USERNAME = credentials('dockerhub-creds')
        DOCKER_PASSWORD = credentials('dockerhub-creds')
    }
    stages {
        stage('Docker Build & Push') {
            steps {
                sh './docker-pipeline.sh'
            }
        }

        }
    }

    

}
}
                }

                }}
                
                }
            }
        }
    }
}
    
